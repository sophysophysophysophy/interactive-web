<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Interactive Web</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="stage">
        <div class="ilbuni a"></div>
        <div class="ilbuni b"></div>
        <div class="ilbuni c"></div>
    </div>

    <script>
    (function() {
        // 이벤트 위임
        // 원래는 child 모두에게 click 이벤트를 등록해줌. 하지만 이벤트를 가진 객체가 많을수록 성능 저하
        // 따라서 이벤트 발생을 줄여주는 것이 좋음 ==> 이벤트 위임

        // 이벤트 위임  : 부모 element에 이벤트를 위임하는 것.
        // 여러번 이벤트 등록하는 것은 바람직하지 않음 
        // 하나의 element에만 등록하여 이벤트 진행
        const stage = document.querySelector('.stage');

        function clickHandler(e) {

            // 자식 노드가 맞을 때만 remove할 수 있게 if문 걸어줌
            if (e.target.classList.contains('ilbuni')) {
                //e.target : 이벤트 객체의 target은 진짜 선택된 그 element
                stage.removeChild(e.target);
            }
        }

        //이벤트 위임을 하면
        // 부모 객체 하나에만 click 이벤트 걸면 됨!
        // 메모리 적게 사용하는 장점이 있다 : 메모리 관리 장점 
        // 인피니트 스크롤링 => 스크롤이 어느정도 되면 자동으로 데이터 로드되는 것에서도 이벤트 위임 장점 있음 
        // 하나의 화면을 부모 컨테이너로 감싸고 그 컨테이너에만 클릭 이벤트를 걸어 줌 
        // 컨테이너를 눌렀을 때 event target의 정보를 조사하여 처리 가능 
        // 따라서 데이터 하나하나 로드 될 때마다 클릭 이벤트 걸어줄 필요 없음 => 타겟만 조사하면 되는거니까 
        // 따라서 클릭 이벤트를 다룰 때 이벤트 위임을 잘 써야 함
        stage.addEventListener('click', clickHandler);
    })();
    </script>
</body>
</html>
